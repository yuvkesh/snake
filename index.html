<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Snake Game with Custom Graphics</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* ... (previous CSS remains the same) ... */
    </style>
</head>
<body>
    <!-- ... (previous HTML remains the same) ... -->
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startScreen = document.getElementById('startScreen');
        const startButton = document.getElementById('startButton');

        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [{x: 10, y: 10}];
        let apples = [];
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameInterval;

        // Load custom images
        const snakeHeadImg = new Image();
        snakeHeadImg.src = 'snake-head.png'; // Replace with your actual image path

        const snakeBodyImg = new Image();
        snakeBodyImg.src = 'snake-body.png'; // Replace with your actual image path

        const appleImg = new Image();
        appleImg.src = 'apple.png'; // Replace with your actual image path

        // ... (rest of the JavaScript remains the same until drawSnake and drawApples functions) ...

        function drawSnake() {
            snake.forEach((segment, index) => {
                if (index === 0) {
                    // Draw snake head
                    ctx.save();
                    ctx.translate(segment.x * gridSize + gridSize / 2, segment.y * gridSize + gridSize / 2);
                    
                    // Rotate based on direction
                    if (dx === 1) ctx.rotate(0);
                    else if (dx === -1) ctx.rotate(Math.PI);
                    else if (dy === -1) ctx.rotate(-Math.PI/2);
                    else if (dy === 1) ctx.rotate(Math.PI/2);

                    ctx.drawImage(snakeHeadImg, -gridSize/2, -gridSize/2, gridSize, gridSize);
                    ctx.restore();
                } else {
                    // Draw snake body
                    ctx.drawImage(snakeBodyImg, segment.x * gridSize, segment.y * gridSize, gridSize, gridSize);
                }
            });
        }

        function drawApples() {
            apples.forEach(apple => {
                ctx.drawImage(appleImg, apple.x * gridSize, apple.y * gridSize, gridSize * apple.size, gridSize * apple.size);
            });
        }

        // ... (rest of the JavaScript remains the same) ...

        // Wait for images to load before starting the game
        Promise.all([
            new Promise(resolve => snakeHeadImg.onload = resolve),
            new Promise(resolve => snakeBodyImg.onload = resolve),
            new Promise(resolve => appleImg.onload = resolve)
        ]).then(() => {
            // Initialize the game once all images are loaded
            startButton.addEventListener('click', startGame);
        });
    </script>
</body>
</html>
